<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Automated Graphical Data Analysis with brinton • brinton</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- sticky kit --><script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Automated Graphical Data Analysis with brinton">
<meta property="og:description" content="">
<meta property="og:image" content="/logo.png">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">brinton</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.2</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/brinton.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/specimen.html">1v specimen</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1>Automated Graphical Data Analysis with brinton</h1>
                        <h4 class="author">Pere Millán-Martínez &amp; Ramon Oller Piqué</h4>
            
            <h4 class="date">2019-12-06</h4>
      
      
      <div class="hidden name"><code>brinton.Rmd</code></div>

    </div>

    
    
<div id="introduction" class="section level1">
<h1 class="hasAnchor">
<a href="#introduction" class="anchor"></a>Introduction</h1>
<p>We created <code>brinton</code> library to facilitate exploratory data analysis following the visual information-seeking mantra: “Overview first, zoom and filter, then details on demand.” The main idea is to assist the user during these three phases through three functions: <code><a href="../reference/wideplot.html">wideplot()</a></code>, <code><a href="../reference/longplot.html">longplot()</a></code> and <code><a href="../reference/plotup.html">plotup()</a></code>. While each of these functions has its own arguments and purpose, all three serve to facilitate exploratory data analysis and the selection of a suitable graphic.</p>
<p>The library can be installed easily from the Comprehensive R Archive Network (CRAN) using the <strong>R</strong> console. When the library is loaded into memory, it provides a startup message that pays homage to Henry D. Hubbard’s enthusiastic introduction to the book Graphic Presentation by Willard Cope Brinton in 1939:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" title="1"><span class="kw"><a href="https://www.rdocumentation.org/packages/utils/topics/install.packages">install.packages</a></span>(<span class="st">'brinton'</span>)</a>
<a class="sourceLine" id="cb1-2" title="2"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/library">library</a></span>(brinton)</a></code></pre></div>
<pre><code>## Loading required package: ggplot2</code></pre>
<pre><code>## Loading required package: gridExtra</code></pre>
<pre><code>## Loading required package: rmarkdown</code></pre>
<pre><code>## M a G i C i N G R a P H S</code></pre>
</div>
<div id="brintons-functions" class="section level1">
<h1 class="hasAnchor">
<a href="#brintons-functions" class="anchor"></a>brinton’s functions</h1>
<p>The <code><a href="../reference/wideplot.html">wideplot()</a></code> function allows the user to explore a dataset as a whole using a grid of graphics in which each variable is represented through multiple graphics. Once we have explored the dataset as a whole, the <code><a href="../reference/longplot.html">longplot()</a></code> allows us to explore other graphics for a given variable. This function also presents a grid of graphics, but instead of showing a selection of graphics for each variable, it presents the full array of graphics available in the library to represent a single variable. Once we have narrowed in on a certain graphic, we can use the <code><a href="../reference/plotup.html">plotup()</a></code> function, which presents the values of a variable on a single graphic. We can access the code of the resulting graph and adapt it as needed. These three functions expand the graphic types that are presented automatically by the autoGEDA libraries in the <strong>R</strong> environment.</p>
<div id="the-wideplot-function" class="section level2">
<h2 class="hasAnchor">
<a href="#the-wideplot-function" class="anchor"></a>The wideplot function</h2>
<p>The <code><a href="../reference/wideplot.html">wideplot()</a></code> function returns a graphical summary of the variables included in the dataset to which it has been applied. First it groups the variables according to the following sequence: <code>logical</code>, <code>ordered</code>, <code>factor</code>, <code>character</code>, <code>datetime</code>, <code>numeric</code>. Next, it creates a multipanel graphic in <strong>html</strong> format, in which each variable of the dataset is represented in a row of the grid, while each column displays the different graphics possible for each variable. We called the resulting graphic type wideplot because it shows an array of graphics for all of the columns of the dataset. The structure of the function, the arguments it permits and its default values are as follows:</p>
<pre><code>wideplot(data, dataclass = NULL, logical = NULL, ordered = NULL,
  factor = NULL, character = NULL, datetime = NULL, numeric = NULL,
  group = NULL, ncol = 7, label = 'FALSE')</code></pre>
<p>The only argument necessary to obtain a result is <code>data</code> that expects a <code>data-frame</code> class object; <code>ncol</code> filters the first <em>n</em> columns of the grid, between 3 and 7, which will be shown. The fewer columns displayed, the larger the size of the resulting graphics, a feature that is especially useful if the scale labels dwarf the graphics area; <code>label</code> adds to the grid a vector below each group of rows according to the variable type, with the names and order of the graphics; <code>logical</code>, <code>ordered</code>, <code>factor</code>, <code>character</code>, <code>datetime</code> and <code>numeric</code> make it possible to choose which graphics appear in the grid and in what order, for each variable type. Finally, <code>group</code> changes the selection of graphics that are shown by default according to the criteria of the table 1.</p>
<p>The <code><a href="../reference/wideplot.html">wideplot()</a></code> function takes inspiration from this function, but instead of describing the dataset in textual or tabular form, it does it graphically. We can easily compare the results of these two functions, for example, with the dataset esoph from a case-control study of esophageal cancer in Ille-et-Vilaine, France. The dataset has three ordered factor-type variables and two numerical variables:</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb7-1" title="1"><span class="kw"><a href="https://www.rdocumentation.org/packages/utils/topics/str">str</a></span>(esoph)</a></code></pre></div>
<pre><code>## 'data.frame':    88 obs. of  5 variables:
##  $ agegp    : Ord.factor w/ 6 levels "25-34"&lt;"35-44"&lt;..: 1 1 1 1 1 1 1 1 1 1 ...
##  $ alcgp    : Ord.factor w/ 4 levels "0-39g/day"&lt;"40-79"&lt;..: 1 1 1 1 2 2 2 2 3 3 ...
##  $ tobgp    : Ord.factor w/ 4 levels "0-9g/day"&lt;"10-19"&lt;..: 1 2 3 4 1 2 3 4 1 2 ...
##  $ ncases   : num  0 0 0 0 0 0 0 0 0 0 ...
##  $ ncontrols: num  40 10 6 5 27 7 4 7 2 1 ...</code></pre>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb9-1" title="1"><span class="kw"><a href="../reference/wideplot.html">wideplot</a></span>(<span class="dt">data =</span> esoph)</a></code></pre></div>
<div class="figure">
<img src="figures/wideplot_esoph.png" alt="Figure 1" width="80%"><p class="caption">
Figure 1
</p>
</div>
<p>If the order and graphic types to be shown for each variable type are not specified and if the graphic types aren’t filtered using the argument <code>group</code>, then the default graphic will contain an opinion-based selection graphics for each variable type, organized especially to facilitate comparison between graphics of the same row and between graphics of the same column. The user can overwrite this default selection of graphics as needed, using the arguments <code>logical</code>, <code>ordered</code>, <code>factor</code>, <code>character</code>, <code>datetime</code> and <code>numeric</code>.</p>
<table class="table">
<thead><tr class="header">
<th align="left">group</th>
<th align="left">graphic.type</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">sequence</td>
<td align="left">includes the sequence in which the values are observed so that an axis develops this sequence. e.g., line graph, point-to-point graph</td>
</tr>
<tr class="even">
<td align="left">scatter</td>
<td align="left">marks represent individual observations. e.g., point graph, stripe graph</td>
</tr>
<tr class="odd">
<td align="left">bin</td>
<td align="left">marks represent aggregated observations based on class intervals. e.g., histogram, bar graph</td>
</tr>
<tr class="even">
<td align="left">model</td>
<td align="left">represents models based on observations. e.g. density plot, violin plot</td>
</tr>
<tr class="odd">
<td align="left">symbol</td>
<td align="left">represents models based on observations and not only points, lines or areas. e.g., box plo.</td>
</tr>
<tr class="even">
<td align="left">GOF</td>
<td align="left">represents the goodness of fit of some values with respect to a model. e.g. qq plot</td>
</tr>
<tr class="odd">
<td align="left">random</td>
<td align="left">chosen at random</td>
</tr>
</tbody>
</table>
</div>
<div id="the-longplot-function" class="section level2">
<h2 class="hasAnchor">
<a href="#the-longplot-function" class="anchor"></a>The longplot function</h2>
<p>To facilitate economy of calculation, the <code><a href="../reference/wideplot.html">wideplot()</a></code> function presents a limited number of graphics in each row. If the user wants to expand the array of suggested graphics for a given variable, he or she should use the <code><a href="../reference/longplot.html">longplot()</a></code> function, which returns a grid with all of the graphics considered by the library for that variable. The structure of the function is very simple <code><a href="../reference/longplot.html">longplot(data, vars, label = TRUE)</a></code> and we can easily check the outcome of applying this function to the variable <code>alcgp</code> of the dataset <code>esoph</code>:</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb10-1" title="1"><span class="kw"><a href="../reference/longplot.html">longplot</a></span>(esoph, <span class="st">'alcgp'</span>)</a></code></pre></div>
<div class="figure">
<img src="figures/longplot_esoph_alcgp.png" alt="Figure 2" width="80%"><p class="caption">
Figure 2
</p>
</div>
<p>The arguments of the function are <code>data</code>, which must be a <code>data-frame</code> class object; <code>vars</code>, which requires the name of a specific variable of the dataset; and <code>label</code>, which does not have to be defined and which adds a vector below each row of the grid indicating the name of each graphic. Unlike the grid of the <code><a href="../reference/wideplot.html">wideplot()</a></code> function, the grid of the <code><a href="../reference/longplot.html">longplot()</a></code> function does not include parameters to limit the array of graphics to be presented. We made this decision because the main advantage of this function is precisely that it presents all of the graphic representations available for a given variable. However, we do not rule out adding filters that limit the number of graphics to be shown if this feature seems useful as the catalog fills with graphics. Each graphic presented can be called explicitly by name using the functions <code><a href="../reference/wideplot.html">wideplot()</a></code> and <code><a href="../reference/plotup.html">plotup()</a></code>, which is why the argument <code>label</code> has been set to <code>TRUE</code> in this case.</p>
<p>The array of graphics that the <code><a href="../reference/longplot.html">longplot()</a></code> function returns is sorted so that in the rows we find different graphic types and in the columns different variations of the same graphic type. This organization, however, is not absolute and in some cases in order to compress the results, we find different graphic types in the columns of the same row.</p>
</div>
<div id="the-plotup-function" class="section level2">
<h2 class="hasAnchor">
<a href="#the-plotup-function" class="anchor"></a>The plotup function</h2>
<p>The <code><a href="../reference/plotup.html">plotup()</a></code> function has the following structure: <code><a href="../reference/plotup.html">plotup(data, vars, diagram, output = 'html')</a></code>. By default, this function returns an <strong>html</strong> document with a single graphic based on a variable from a given dataset and the name of the desired graphic, from among the names included by the specimen that we present in the next subsection. We can easily check the outcome of applying this function to produce a line graph from the variable <code>ncases</code> of the dataset <code>esoph</code>:</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb11-1" title="1"><span class="kw"><a href="../reference/plotup.html">plotup</a></span>(esoph, <span class="st">'ncases'</span>, <span class="st">'line graph'</span>)</a></code></pre></div>
<div class="figure">
<img src="figures/plotup_esoph_ncases_linegraph.png" alt="Figure 3" width="80%"><p class="caption">
Figure 3
</p>
</div>
<p>This function requires three arguments: <code>data</code>, <code>vars</code> and <code>diagram</code>. The fourth argument, <code>output</code>, is optional and has the default value of <strong>html</strong>. However, if it is set to <code>plots pane</code>, instead of generating a graphic in an <strong>html</strong> page, it generates a graphic in the plots pane of RStudio. If, instead, it is set to ’’console´´, the function returns the code used by the library to generate this precise graphic. This feature is especially useful to adapt the default graphic to the specific needs and preferences of the user.</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb12-1" title="1"><span class="kw"><a href="../reference/plotup.html">plotup</a></span>(esoph, <span class="st">'ncases'</span>, <span class="st">'line graph'</span>, <span class="dt">output =</span> <span class="st">'console'</span>)</a></code></pre></div>
<pre><code>theme_set(theme_minimal())
ggplot(esoph, aes(x=seq_along(ncases), y=ncases)) +
  geom_path(aes(group=1)) +
  labs(x='seq') +
  theme(panel.grid = element_line(colour = NA),
    axis.ticks=element_line(color='black'))</code></pre>
</div>
</div>
<div id="the-specimen" class="section level1">
<h1 class="hasAnchor">
<a href="#the-specimen" class="anchor"></a>The specimen</h1>
<p>The documentation of the library includes the vignette ’1v specimen´´, which contains a specimen with images of all the graphic types for a single variable, incorporated into the library according to the variable type. These graphs serve as an example so that the user can rapidly check whether a graphic has been incorporated, the type or types of variable for which it has been incorporated, and the label with which it has been identified. The suitability of a particular graphic will depend on the datasets of interest and the variables of each particular user.</p>
</div>
<div id="applications" class="section level1">
<h1 class="hasAnchor">
<a href="#applications" class="anchor"></a>Applications</h1>
<p>The main application of a library for exploratory data analysis is to help the user make sense of the data. This includes describing the number and nature of the variables, the number of observations and examples of the variables–this is precisely what the <code><a href="https://www.rdocumentation.org/packages/utils/topics/str">str()</a></code> function does. It also includes evaluating the validity and quality of the data and the properties of the values found. Below we list a series of tasks for which the functions included in <code>brinton</code> are useful, and describe the process for carrying them out.</p>
<div id="identify-multi-column-sorting" class="section level2">
<h2 class="hasAnchor">
<a href="#identify-multi-column-sorting" class="anchor"></a>Identify multi-column sorting</h2>
<p>Here we describe how to use the <code><a href="../reference/wideplot.html">wideplot()</a></code> function to determine whether the observations of the dataset <code>aids</code> of the library <code>KMsurv</code> are sorted according to one of the variables. This dataset has three variables, <code>infect</code> (infection time for AIDS in years), <code>induct</code> (induction time for AIDS in years), and <code>adult</code> (indicator of adult: 1=adult, 0=child). To accomplish the task, we first install the library, then load it into memory and run the wideplot function with its default output.</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb14-1" title="1"><span class="kw"><a href="https://www.rdocumentation.org/packages/utils/topics/data">data</a></span>(aids, <span class="dt">package =</span> <span class="st">'KMsurv'</span>)</a>
<a class="sourceLine" id="cb14-2" title="2"><span class="kw"><a href="../reference/wideplot.html">wideplot</a></span>(aids)</a>
<a class="sourceLine" id="cb14-3" title="3"><span class="kw"><a href="../reference/wideplot.html">wideplot</a></span>(aids, <span class="dt">numeric =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="st">'line graph'</span>, <span class="st">'stepped line graph'</span>), <span class="dt">ncol=</span><span class="dv">5</span>)</a></code></pre></div>
<div class="figure">
<img src="figures/wideplot_aids0.png" alt="Figure 4" width="80%"><p class="caption">
Figure 4
</p>
</div>
<p>From this result we observe that the line graph is the one that best shows that the dataset is ordered first by the variable <code>adult</code> and then by the variable <code>infect</code>. To finish selecting the most suitable graphic we can then execute the same function but limit the graphic types such that only two variations of line graph are shown. We can moreover limit the function so that it displays, for example, only five columns, so that the graphics will be larger.</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb15-1" title="1"><span class="kw"><a href="../reference/wideplot.html">wideplot</a></span>(<span class="dt">data =</span> aids, <span class="dt">numeric =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="st">'line graph'</span>, <span class="st">'stepped line graph'</span>), </a>
<a class="sourceLine" id="cb15-2" title="2">         <span class="dt">ncol =</span> <span class="dv">5</span>)</a></code></pre></div>
<div class="figure">
<img src="figures/wideplot_aids.png" alt="Figure 4" width="80%"><p class="caption">
Figure 4
</p>
</div>
<p>The result is two variations of the line graph for each variable, in which we can clearly see that the data set is ordered first by the variable <code>adult</code> and then by the variable <code>infect</code>. In this case, there may be equally valid arguments for using the graphics of the first column as the graphics of the second column.</p>
</div>
<div id="identify-variables-that-can-be-reclassified" class="section level2">
<h2 class="hasAnchor">
<a href="#identify-variables-that-can-be-reclassified" class="anchor"></a>Identify variables that can be reclassified</h2>
<p>When loading a dataset it is important to check which assumptions the function has made and which variables can be reclassified. We can see an example of this in Figure 4, which shows that the variable <code>adult</code> of the dataset <code>aids</code> is better treated as a <code>logical</code>-type variable than an <code>integer</code>. If we recode the variable type more appropriately, when we apply the <code><a href="../reference/wideplot.html">wideplot()</a></code> function again, the graphics it shows also tend to be more appropriate. In Figure 5 we see the result after the variable <code>adult</code> is reclassified.</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb16-1" title="1">aids<span class="op">$</span>adult &lt;-<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/logical">as.logical</a></span>(aids<span class="op">$</span>adult)</a>
<a class="sourceLine" id="cb16-2" title="2"><span class="kw"><a href="../reference/wideplot.html">wideplot</a></span>(<span class="dt">data =</span> aids)</a></code></pre></div>
<div class="figure">
<img src="figures/wideplot_aids2.png" alt="Figure 5" width="80%"><p class="caption">
Figure 5
</p>
</div>
</div>
<div id="identify-key-variables" class="section level2">
<h2 class="hasAnchor">
<a href="#identify-key-variables" class="anchor"></a>Identify key variables</h2>
<p>The best way to identify key variables is by using complementary graphics. Figure 6 makes it possible, for example, to identify rapidly the variable <code>patient</code> of the dataset <code>azt</code> in the library <code>KMsurv</code>, as a key variable, given that it assigns a sequential number to each record, each of which is observed a single time. We can draw these two conclusions from the line graph and the color bar graph.</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb17-1" title="1"><span class="kw"><a href="https://www.rdocumentation.org/packages/utils/topics/data">data</a></span>(azt, <span class="dt">package =</span> <span class="st">'KMsurv'</span>)</a>
<a class="sourceLine" id="cb17-2" title="2"><span class="kw"><a href="../reference/wideplot.html">wideplot</a></span>(<span class="dt">data =</span> azt, <span class="dt">label =</span> <span class="ot">TRUE</span>)</a></code></pre></div>
<div class="figure">
<img src="figures/wideplot_azt.png" alt="Figure 6" width="80%"><p class="caption">
Figure 6
</p>
</div>
<p>In the case of categorical key variables, the same line graph and color bar graph would also help us to identify the key variable. Figure 7 shows these two graphs for the factor-type variable of the dataset <code>SpeciesArea</code> in the library <code>Stat2Data</code>, which allow us to identify rapidly the variable <code>Name</code> as a key variable.</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb18-1" title="1"><span class="kw"><a href="https://www.rdocumentation.org/packages/utils/topics/data">data</a></span>(SpeciesArea, <span class="dt">package =</span> <span class="st">'Stat2Data'</span>)</a>
<a class="sourceLine" id="cb18-2" title="2"><span class="kw"><a href="../reference/wideplot.html">wideplot</a></span>(<span class="dt">data =</span> SpeciesArea, <span class="dt">dataclas =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="st">'factor'</span>),</a>
<a class="sourceLine" id="cb18-3" title="3">         <span class="dt">factor =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="st">'line graph'</span>, <span class="st">'color bar graph'</span>), <span class="dt">ncol =</span> <span class="dv">5</span>)</a></code></pre></div>
<div class="figure">
<img src="figures/wideplot_SpeciesArea.png" alt="Figure 7" width="80%"><p class="caption">
Figure 7
</p>
</div>
</div>
<div id="be-surprised-by-serendipity" class="section level2">
<h2 class="hasAnchor">
<a href="#be-surprised-by-serendipity" class="anchor"></a>Be surprised by serendipity</h2>
<p>Next we describe isolated cases in which we are surprised by the values that the data depict. We use the following procedure to locate unexpected aspects of the data: first we obtain a general view of the dataset using the function <code><a href="../reference/wideplot.html">wideplot()</a></code>; next we focus our attention on one variable in particular and explore all of the compatible graphics using the function <code><a href="../reference/longplot.html">longplot()</a></code>; finally, we use the function <code><a href="../reference/plotup.html">plotup()</a></code> to obtain the graphic that best enables us to identify, narrow down and communicate the aspect of the data that we have found.</p>
<ul>
<li>The first example of an unexpected funding appears in the variable <code>experience</code> (years of potential work experience) of the dataset <code>HI</code> in the library <code>Ecdat</code>. This dataset contains 22,272 records of 13 variables that link health insurance policies to the weekly hours worked by the wives of the policyholders, while the variable <code>experience</code> refers to the years of potential work experience of the wives. If we look at the bar graph applied to this numerical variable –see Figure 8–, we see that the frequency of the whole values is systematically greater than the frequency of the real non-whole values. This behavior could indicate that the variable can be informed with excessive precision and whoever informed the variable <code>experience</code> tended to round to the unit. Another possibility is that the dataset was constructed by joining two data sources with different degrees of precision.</li>
</ul>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb19-1" title="1"><span class="kw"><a href="https://www.rdocumentation.org/packages/utils/topics/data">data</a></span>(HI, <span class="dt">package =</span> <span class="st">'Ecdat'</span>)</a>
<a class="sourceLine" id="cb19-2" title="2"><span class="kw"><a href="../reference/wideplot.html">wideplot</a></span>(<span class="dt">data =</span> HI)</a>
<a class="sourceLine" id="cb19-3" title="3"><span class="kw"><a href="../reference/longplot.html">longplot</a></span>(<span class="dt">data =</span> HI, <span class="dt">vars =</span> <span class="st">'experience'</span>)</a>
<a class="sourceLine" id="cb19-4" title="4"><span class="kw"><a href="../reference/plotup.html">plotup</a></span>(<span class="dt">data =</span> HI, <span class="dt">vars =</span> <span class="st">'experience'</span>, <span class="dt">diagram =</span> <span class="st">'bar graph'</span>, </a>
<a class="sourceLine" id="cb19-5" title="5">       <span class="dt">output =</span> <span class="st">'plots pane'</span>)</a></code></pre></div>
<div class="figure">
<img src="figures/HI_1-1.png" alt="Figure 8" width="40%"><p class="caption">
Figure 8
</p>
</div>
<ul>
<li>In the same dataset we can see that we could reach mistaken conclusions about the distribution of the variable <code>husby</code> (husband’s income in thousands of dollars) if we only looked at a histogram. As we can see in Figure 9, the distribution, and in particular the value zero, acquires a different value if we compare the histogram (right) with another graphic that isn’t as common for numerical variables: the bar graph (left), which shows the count of unique values. The bar graph makes it possible to clearly differentiate two groups: the informants whose husbands have no income and the informants whose husbands do have income (and to whom, therefore, it makes more sense to ask approximate income).</li>
</ul>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb20-1" title="1">gridExtra<span class="op">::</span><span class="kw"><a href="https://www.rdocumentation.org/packages/gridExtra/topics/arrangeGrob">grid.arrange</a></span>(<span class="kw"><a href="../reference/plotup.html">plotup</a></span>(HI, <span class="st">'husby'</span>, <span class="st">'histogram'</span>, <span class="dt">output =</span> <span class="st">'plots pane'</span>),</a>
<a class="sourceLine" id="cb20-2" title="2">                        <span class="kw"><a href="../reference/plotup.html">plotup</a></span>(HI, <span class="st">'husby'</span>, <span class="st">'bar graph'</span>, <span class="dt">output =</span> <span class="st">'plots pane'</span>),</a>
<a class="sourceLine" id="cb20-3" title="3">                        <span class="dt">heights=</span>grid<span class="op">::</span><span class="kw"><a href="https://www.rdocumentation.org/packages/grid/topics/unit">unit</a></span>(<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="fl">2.4</span>), <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="st">'in'</span>)),</a>
<a class="sourceLine" id="cb20-4" title="4">                        <span class="dt">ncol=</span><span class="dv">2</span>)</a></code></pre></div>
<div class="figure">
<img src="figures/HI_2-1.png" alt="Figure 9" width="80%"><p class="caption">
Figure 9
</p>
</div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
        <div id="tocnav">
      <h2 class="hasAnchor">
<a href="#tocnav" class="anchor"></a>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li><a href="#introduction">Introduction</a></li>
      <li>
<a href="#brintons-functions">brinton’s functions</a><ul class="nav nav-pills nav-stacked">
<li><a href="#the-wideplot-function">The wideplot function</a></li>
      <li><a href="#the-longplot-function">The longplot function</a></li>
      <li><a href="#the-plotup-function">The plotup function</a></li>
      </ul>
</li>
      <li><a href="#the-specimen">The specimen</a></li>
      <li>
<a href="#applications">Applications</a><ul class="nav nav-pills nav-stacked">
<li><a href="#identify-multi-column-sorting">Identify multi-column sorting</a></li>
      <li><a href="#identify-variables-that-can-be-reclassified">Identify variables that can be reclassified</a></li>
      <li><a href="#identify-key-variables">Identify key variables</a></li>
      <li><a href="#be-surprised-by-serendipity">Be surprised by serendipity</a></li>
      </ul>
</li>
      </ul>
</div>
      </div>

</div>


      <footer><div class="copyright">
  <p>Developed by Pere Millán-Martínez.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.3.0.</p>
</div>
      </footer>
</div>

  

  </body>
</html>
